[gd_scene load_steps=19 format=3 uid="uid://dxx7ngi0emt8h"]

[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="1_lm5n8"]
[ext_resource type="Script" path="res://addons/phantom_camera/examples/scripts/3D/player_controller.gd" id="2_tsk60"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3D.gd" id="3_bd7x3"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="3_hbjve"]
[ext_resource type="PackedScene" path="res://addons/phantom_camera/examples/models/3DPrototypeCubeDark.tscn" id="4_dfdlo"]
[ext_resource type="Script" path="res://addons/phantom_camera/examples/scripts/3D/path_follow.gd" id="5_vdqkm"]
[ext_resource type="FontFile" uid="uid://c4mm3of2mc8o5" path="res://addons/phantom_camera/fonts/Nunito-Black.ttf" id="6_obo83"]

[sub_resource type="Resource" id="Resource_m07s2"]
script = ExtResource("3_hbjve")
duration = 0.6
transition = 4
ease = 2

[sub_resource type="CapsuleMesh" id="CapsuleMesh_vr5ym"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mjpjo"]
albedo_color = Color(0.988235, 0.498039, 0.498039, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ca4wa"]

[sub_resource type="BoxShape3D" id="BoxShape3D_aovgi"]
size = Vector3(7.4, 0.1, 4)

[sub_resource type="BoxMesh" id="BoxMesh_0hdeh"]
size = Vector3(7.4, 0.1, 4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fsm1b"]
transparency = 1
albedo_color = Color(0.988235, 0.478431, 0.905882, 0.0901961)

[sub_resource type="Curve3D" id="Curve3D_d73fx"]
_data = {
"points": PackedVector3Array(-0.712701, -0.217464, 0.110257, 0.712701, 0.217464, -0.110257, 0, 0, 0, -0.660231, 0, 1.436, 0.660231, 0, -1.436, 2.03106, 0.0306873, -3.71978, 1.05841, 2.43187e-05, 0.78705, -1.05841, -2.43187e-05, -0.78705, 0.94632, 0.0658436, -8.42353, 1.60638, 2.43187e-05, 0.225553, -1.60638, -2.43187e-05, -0.225553, -1.62861, 0.0658436, -7.79639, 1.60106, 0, -0.74276, -1.60106, 0, 0.74276, -4.4392, 4.76837e-05, -9.36475, 0, 0, 0, 0, 0, 0, -6.15116, 4.76837e-05, -5.68357, -0.827839, 0.615678, -0.877247, 0.827839, -0.615678, 0.877247, -4.49075, 0.262281, -1.25652, -0.983731, -0.466561, 0.260322, 0, 0, 0, 0, 0, 0),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="Curve3D" id="Curve3D_57n1f"]
_data = {
"points": PackedVector3Array(-0.712701, -0.217464, 0.110257, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8.913, 0, 4.745, 0, 0, 0, 0, 0, 0, 20, 0, 0),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Resource" id="Resource_rw4bl"]
script = ExtResource("3_hbjve")
duration = 0.9
transition = 3
ease = 2

[sub_resource type="Curve3D" id="Curve3D_b33df"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="Root" type="Node3D"]

[node name="MainCamera3D" type="Camera3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(0.999995, -0.0021625, 0.0018451, 0, 0.64907, 0.760726, -0.00284268, -0.760723, 0.649067, 2.45174, 3.49999, -1.51096)

[node name="PhantomCameraHost" type="Node" parent="MainCamera3D"]
script = ExtResource("1_lm5n8")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 8, 0)
metadata/_edit_lock_ = true

[node name="PlayerPhantomCamera3D" type="Node3D" parent="."]
transform = Transform3D(0.999807, -0.00216249, 0.00184445, 0, 0.648836, 0.760728, -0.00284214, -0.760718, 0.648839, 2.45174, 3.49999, -1.51096)
script = ExtResource("3_bd7x3")
Priority = 3
"Follow Mode" = 2
"Follow Target" = NodePath("../PlayerCharacterBody3D")
"Follow Parameters/Distance" = 1.0
"Follow Parameters/Target Offset" = Vector3(0, 3, 2)
"Follow Parameters/Damping" = true
"Follow Parameters/Damping Value" = 10.0
"Look At Mode" = 0
"Tween Parameters" = SubResource("Resource_m07s2")
"Inactive Update Mode" = 0

[node name="PlayerCharacterBody3D" type="CharacterBody3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.45174, 0.499993, -3.51096)
script = ExtResource("2_tsk60")
SPEED = 3.5
metadata/_edit_group_ = true

[node name="PlayerMeshInstance3D" type="MeshInstance3D" parent="PlayerCharacterBody3D"]
mesh = SubResource("CapsuleMesh_vr5ym")
surface_material_override/0 = SubResource("StandardMaterial3D_mjpjo")

[node name="PlayerArea3D" type="Area3D" parent="PlayerCharacterBody3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayerCharacterBody3D/PlayerArea3D"]
shape = SubResource("CapsuleShape3D_ca4wa")

[node name="PlayerCollisionShape3D" type="CollisionShape3D" parent="PlayerCharacterBody3D"]
shape = SubResource("CapsuleShape3D_ca4wa")

[node name="NPCDescriptionLabel" type="Label3D" parent="."]
transform = Transform3D(0.999999, 0, 0, 0, 0.866026, 0.5, 0, -0.5, 0.866024, 8.32545, 0.73958, -6.25208)
text = "Follow player on path"
font = ExtResource("6_obo83")
font_size = 64

[node name="PathFollowTrigger" type="Area3D" parent="." node_paths=PackedStringArray("path_pcam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.04043, -0.45, -4.29923)
priority = 5.0
script = ExtResource("5_vdqkm")
path_pcam = NodePath("../Paths/PathPhantomCamera3D")
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="PathFollowTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3, 0, 0.3)
shape = SubResource("BoxShape3D_aovgi")

[node name="NPCInteractionZoneMesh" type="MeshInstance3D" parent="PathFollowTrigger/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.034153, 0.05, -0.357377)
mesh = SubResource("BoxMesh_0hdeh")
skeleton = NodePath("../../..")
surface_material_override/0 = SubResource("StandardMaterial3D_fsm1b")
metadata/_edit_group_ = true

[node name="Paths" type="Node" parent="."]

[node name="Path3D" type="Path3D" parent="Paths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.53504, 4.03413, -1.18881)
visible = false
curve = SubResource("Curve3D_d73fx")

[node name="PathFollow3D" type="PathFollow3D" parent="Paths/Path3D"]
unique_name_in_owner = true
transform = Transform3D(-0.890483, -0.122229, 0.438107, -0.143534, 0.989435, -0.0156939, -0.431598, -0.0768643, -0.898694, 0.917038, 0.102504, -1.11173)
progress = 1.49148

[node name="Path3D2" type="Path3D" parent="Paths"]
process_mode = 4
visible = false
curve = SubResource("Curve3D_57n1f")

[node name="PathFollow3D" type="PathFollow3D" parent="Paths/Path3D2"]
transform = Transform3D(0.469887, 0, 0.882634, 0, 0.999916, 0, -0.882635, 0, 0.469886, 0, 0, 0)

[node name="PathPhantomCamera3D" type="Node3D" parent="Paths"]
transform = Transform3D(1, 0, 0, 0, 0.652244, 0.758009, 0, -0.758009, 0.652244, 4.62939, 4.367, -0.031)
script = ExtResource("3_bd7x3")
Priority = 0
"Follow Mode" = 4
"Follow Target" = NodePath("../../PlayerCharacterBody3D")
"Follow Path" = NodePath("../StraightFollowPath")
"Follow Parameters/Damping" = true
"Follow Parameters/Damping Value" = 3.0
"Look At Mode" = 0
"Tween Parameters" = SubResource("Resource_rw4bl")
"Inactive Update Mode" = 1

[node name="StraightFollowPath" type="Path3D" parent="Paths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.62939, 4.367, -0.031)
curve = SubResource("Curve3D_b33df")

[node name="PathFollow3D" type="PathFollow3D" parent="Paths/StraightFollowPath"]
transform = Transform3D(-4.37078e-08, 0, 0.999918, 0, 0.999916, 0, -0.999919, 0, -4.37078e-08, 0, 0, 0)

[node name="Environment" type="Node" parent="."]

[node name="Floor" parent="Environment" instance=ExtResource("4_dfdlo")]
transform = Transform3D(1000, 0, 0, 0, 1, 0, 0, 0, 1000, 0, -1, 0)
metadata/_edit_lock_ = true

[node name="Floor2" parent="Environment" instance=ExtResource("4_dfdlo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 5, 0.5, 0, -4)

[node name="Floor5" parent="Environment" instance=ExtResource("4_dfdlo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 5, 19.5, 0, -4)

[node name="Floor3" parent="Environment" instance=ExtResource("4_dfdlo")]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, -1.5)

[node name="Floor4" parent="Environment" instance=ExtResource("4_dfdlo")]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, -6.57555)

[node name="MovementInstructionsLabel" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 2.68279, -0.455369, -2.69276)
modulate = Color(0.294118, 1, 0.631373, 1)
text = "[WASD] to move"
font = ExtResource("6_obo83")
font_size = 48
